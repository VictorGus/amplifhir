["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/rc-motion/lib/hooks/useStepQueue.js"],"~:js","shadow$provide.module$node_modules$rc_motion$lib$hooks$useStepQueue=function(global,require,module,exports){global=require(\"module$node_modules$$babel$runtime$helpers$interopRequireWildcard\");module=require(\"module$node_modules$$babel$runtime$helpers$interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:!0});exports.isActive=function(step){return step===_interface.STEP_ACTIVE||step===_interface.STEP_ACTIVATED};exports.default=exports.DoStep=exports.SkipStep=void 0;var _slicedToArray2=\nmodule(require(\"module$node_modules$$babel$runtime$helpers$slicedToArray\")),React=global(require(\"module$node_modules$react$index\")),_interface=require(\"module$node_modules$rc_motion$lib$interface\"),_useIsomorphicLayoutEffect=module(require(\"module$node_modules$rc_motion$lib$hooks$useIsomorphicLayoutEffect\")),_useNextFrame3=module(require(\"module$node_modules$rc_motion$lib$hooks$useNextFrame\")),STEP_QUEUE=[_interface.STEP_PREPARE,_interface.STEP_START,_interface.STEP_ACTIVE,_interface.STEP_ACTIVATED];\nexports.SkipStep=!1;exports.DoStep=!0;exports.default=function(status,callback){var _React$useState=React.useState(_interface.STEP_NONE);_React$useState=(0,_slicedToArray2.default)(_React$useState,2);var step=_React$useState[0],setStep=_React$useState[1];_React$useState=(0,_useNextFrame3.default)();_React$useState=(0,_slicedToArray2.default)(_React$useState,2);var nextFrame=_React$useState[0],cancelNextFrame=_React$useState[1];(0,_useIsomorphicLayoutEffect.default)(function(){if(step!==_interface.STEP_NONE&&\nstep!==_interface.STEP_ACTIVATED){var index=STEP_QUEUE.indexOf(step),nextStep=STEP_QUEUE[index+1],result=callback(step);!1===result?setStep(nextStep):nextFrame(function(info){function doNext(){info.isCanceled()||setStep(nextStep)}!0===result?doNext():Promise.resolve(result).then(doNext)})}},[status,step]);React.useEffect(function(){return function(){cancelNextFrame()}},[]);return[function(){setStep(_interface.STEP_PREPARE)},step]}}","~:source","shadow$provide[\"module$node_modules$rc_motion$lib$hooks$useStepQueue\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isActive = isActive;\nexports.default = exports.DoStep = exports.SkipStep = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _interface = require(\"../interface\");\n\nvar _useIsomorphicLayoutEffect = _interopRequireDefault(require(\"./useIsomorphicLayoutEffect\"));\n\nvar _useNextFrame3 = _interopRequireDefault(require(\"./useNextFrame\"));\n\nvar STEP_QUEUE = [_interface.STEP_PREPARE, _interface.STEP_START, _interface.STEP_ACTIVE, _interface.STEP_ACTIVATED];\n/** Skip current step */\n\nvar SkipStep = false;\n/** Current step should be update in */\n\nexports.SkipStep = SkipStep;\nvar DoStep = true;\nexports.DoStep = DoStep;\n\nfunction isActive(step) {\n  return step === _interface.STEP_ACTIVE || step === _interface.STEP_ACTIVATED;\n}\n\nvar _default = function _default(status, callback) {\n  var _React$useState = React.useState(_interface.STEP_NONE),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      step = _React$useState2[0],\n      setStep = _React$useState2[1];\n\n  var _useNextFrame = (0, _useNextFrame3.default)(),\n      _useNextFrame2 = (0, _slicedToArray2.default)(_useNextFrame, 2),\n      nextFrame = _useNextFrame2[0],\n      cancelNextFrame = _useNextFrame2[1];\n\n  function startQueue() {\n    setStep(_interface.STEP_PREPARE);\n  }\n\n  (0, _useIsomorphicLayoutEffect.default)(function () {\n    if (step !== _interface.STEP_NONE && step !== _interface.STEP_ACTIVATED) {\n      var index = STEP_QUEUE.indexOf(step);\n      var nextStep = STEP_QUEUE[index + 1];\n      var result = callback(step);\n\n      if (result === SkipStep) {\n        // Skip when no needed\n        setStep(nextStep);\n      } else {\n        // Do as frame for step update\n        nextFrame(function (info) {\n          function doNext() {\n            // Skip since current queue is ood\n            if (info.isCanceled()) return;\n            setStep(nextStep);\n          }\n\n          if (result === true) {\n            doNext();\n          } else {\n            // Only promise should be async\n            Promise.resolve(result).then(doNext);\n          }\n        });\n      }\n    }\n  }, [status, step]);\n  React.useEffect(function () {\n    return function () {\n      cancelNextFrame();\n    };\n  }, []);\n  return [startQueue, step];\n};\n\nexports.default = _default;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$rc_motion$lib$hooks$useNextFrame","~$module$node_modules$rc_motion$lib$interface","~$module$node_modules$$babel$runtime$helpers$interopRequireWildcard","~$module$node_modules$$babel$runtime$helpers$slicedToArray","~$module$node_modules$$babel$runtime$helpers$interopRequireDefault","~$module$node_modules$react$index","~$shadow.js","~$module$node_modules$rc_motion$lib$hooks$useIsomorphicLayoutEffect"]],"~:properties",["^5",["DoStep","isActive","__esModule","SkipStep","value","default"]],"~:compiled-at",1619101948494,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$rc_motion$lib$hooks$useStepQueue.js\",\n\"lineCount\":4,\n\"mappings\":\"AAAAA,cAAA,CAAe,oDAAf,CAAyE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAG7GC,MAAAA,CAA0BH,OAAA,CAAQ,mEAAR,CAE1BI,OAAAA,CAAyBJ,OAAA,CAAQ,kEAAR,CAE7BK,OAAA,CAAOC,cAAP,CAAsBJ,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CK,MAAO,CAAA,CADoC,CAA7C,CAGAL,QAAA,CAAQM,QAAR,CAuBAA,QAAiB,CAACC,IAAD,CAAO,CACtB,MAAOA,KAAP,GAAgBC,UAAhB,CAA2BC,WAA3B,EAA0CF,IAA1C,GAAmDC,UAAnD,CAA8DE,cADxC,CAtBxBV,QAAA,CAAQW,OAAR,CAAkBX,OAAlB,CAA0BY,MAA1B,CAAmCZ,OAAnC,CAA2Ca,QAA3C,CAAsD,IAAK,EAE3D,KAAIC;AAAkBZ,MAAA,CAAuBJ,OAAA,CAAQ,0DAAR,CAAvB,CAAtB,CAEIiB,MAAQd,MAAA,CAAwBH,OAAA,CAAQ,iCAAR,CAAxB,CAFZ,CAIIU,WAAaV,OAAA,CAAQ,6CAAR,CAJjB,CAMIkB,2BAA6Bd,MAAA,CAAuBJ,OAAA,CAAQ,mEAAR,CAAvB,CANjC,CAQImB,eAAiBf,MAAA,CAAuBJ,OAAA,CAAQ,sDAAR,CAAvB,CARrB,CAUIoB,WAAa,CAACV,UAAD,CAAYW,YAAZ,CAA0BX,UAA1B,CAAqCY,UAArC,CAAiDZ,UAAjD,CAA4DC,WAA5D,CAAyED,UAAzE,CAAoFE,cAApF,CAMjBV;OAAA,CAAQa,QAAR,CAHeA,CAAAA,CAKfb,QAAA,CAAQY,MAAR,CADaA,CAAAA,CA0DbZ,QAAA,CAAQW,OAAR,CAnDeU,QAAiB,CAACC,MAAD,CAASC,QAAT,CAAmB,CAAA,IAC7CC,gBAAkBT,KAAA,CAAMU,QAAN,CAAejB,UAAf,CAA0BkB,SAA1B,CAClBC,gBAAAA,CAAmB,CAAC,CAAA,CAAGb,eAAH,CAAmBH,OAApB,EAA6Ba,eAA7B,CAA8C,CAA9C,CAF0B,KAG7CjB,KAAOoB,eAAA,CAAiB,CAAjB,CAHsC,CAI7CC,QAAUD,eAAA,CAAiB,CAAjB,CAEVE,gBAAAA,CAAgB,CAAC,CAAA,CAAGZ,cAAH,CAAkBN,OAAnB,GAChBmB,gBAAAA,CAAiB,CAAC,CAAA,CAAGhB,eAAH,CAAmBH,OAApB,EAA6BkB,eAA7B,CAA4C,CAA5C,CAP4B,KAQ7CE,UAAYD,eAAA,CAAe,CAAf,CARiC,CAS7CE,gBAAkBF,eAAA,CAAe,CAAf,CAMtB,EAAC,CAAA,CAAGd,0BAAH,CAA8BL,OAA/B,EAAwC,QAAS,EAAG,CAClD,GAAIJ,IAAJ,GAAaC,UAAb,CAAwBkB,SAAxB;AAAqCnB,IAArC,GAA8CC,UAA9C,CAAyDE,cAAzD,CAAyE,CACvE,IAAIuB,MAAQf,UAAA,CAAWgB,OAAX,CAAmB3B,IAAnB,CAAZ,CACI4B,SAAWjB,UAAA,CAAWe,KAAX,CAAmB,CAAnB,CADf,CAEIG,OAASb,QAAA,CAAShB,IAAT,CA9BJM,EAAAA,CAgCT,GAAIuB,MAAJ,CAEER,OAAA,CAAQO,QAAR,CAFF,CAKEJ,SAAA,CAAU,QAAS,CAACM,IAAD,CAAO,CACxBC,QAASA,OAAM,EAAG,CAEZD,IAAA,CAAKE,UAAL,EAAJ,EACAX,OAAA,CAAQO,QAAR,CAHgB,CAMH,CAAA,CAAf,GAAIC,MAAJ,CACEE,MAAA,EADF,CAIEE,OAAA,CAAQC,OAAR,CAAgBL,MAAhB,CAAA,CAAwBM,IAAxB,CAA6BJ,MAA7B,CAXsB,CAA1B,CAVqE,CADvB,CAApD,CA2BG,CAAChB,MAAD,CAASf,IAAT,CA3BH,CA4BAQ,MAAA,CAAM4B,SAAN,CAAgB,QAAS,EAAG,CAC1B,MAAO,SAAS,EAAG,CACjBX,eAAA,EADiB,CADO,CAA5B,CAIG,EAJH,CAKA,OAAO,CArCPY,QAAmB,EAAG,CACpBhB,OAAA,CAAQpB,UAAR,CAAmBW,YAAnB,CADoB,CAqCf,CAAaZ,IAAb,CAhD0C,CArC8D;\",\n\"sources\":[\"node_modules/rc-motion/lib/hooks/useStepQueue.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$rc_motion$lib$hooks$useStepQueue\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nvar _interopRequireWildcard = require(\\\"@babel/runtime/helpers/interopRequireWildcard\\\");\\n\\nvar _interopRequireDefault = require(\\\"@babel/runtime/helpers/interopRequireDefault\\\");\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.isActive = isActive;\\nexports.default = exports.DoStep = exports.SkipStep = void 0;\\n\\nvar _slicedToArray2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/slicedToArray\\\"));\\n\\nvar React = _interopRequireWildcard(require(\\\"react\\\"));\\n\\nvar _interface = require(\\\"../interface\\\");\\n\\nvar _useIsomorphicLayoutEffect = _interopRequireDefault(require(\\\"./useIsomorphicLayoutEffect\\\"));\\n\\nvar _useNextFrame3 = _interopRequireDefault(require(\\\"./useNextFrame\\\"));\\n\\nvar STEP_QUEUE = [_interface.STEP_PREPARE, _interface.STEP_START, _interface.STEP_ACTIVE, _interface.STEP_ACTIVATED];\\n/** Skip current step */\\n\\nvar SkipStep = false;\\n/** Current step should be update in */\\n\\nexports.SkipStep = SkipStep;\\nvar DoStep = true;\\nexports.DoStep = DoStep;\\n\\nfunction isActive(step) {\\n  return step === _interface.STEP_ACTIVE || step === _interface.STEP_ACTIVATED;\\n}\\n\\nvar _default = function _default(status, callback) {\\n  var _React$useState = React.useState(_interface.STEP_NONE),\\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\\n      step = _React$useState2[0],\\n      setStep = _React$useState2[1];\\n\\n  var _useNextFrame = (0, _useNextFrame3.default)(),\\n      _useNextFrame2 = (0, _slicedToArray2.default)(_useNextFrame, 2),\\n      nextFrame = _useNextFrame2[0],\\n      cancelNextFrame = _useNextFrame2[1];\\n\\n  function startQueue() {\\n    setStep(_interface.STEP_PREPARE);\\n  }\\n\\n  (0, _useIsomorphicLayoutEffect.default)(function () {\\n    if (step !== _interface.STEP_NONE && step !== _interface.STEP_ACTIVATED) {\\n      var index = STEP_QUEUE.indexOf(step);\\n      var nextStep = STEP_QUEUE[index + 1];\\n      var result = callback(step);\\n\\n      if (result === SkipStep) {\\n        // Skip when no needed\\n        setStep(nextStep);\\n      } else {\\n        // Do as frame for step update\\n        nextFrame(function (info) {\\n          function doNext() {\\n            // Skip since current queue is ood\\n            if (info.isCanceled()) return;\\n            setStep(nextStep);\\n          }\\n\\n          if (result === true) {\\n            doNext();\\n          } else {\\n            // Only promise should be async\\n            Promise.resolve(result).then(doNext);\\n          }\\n        });\\n      }\\n    }\\n  }, [status, step]);\\n  React.useEffect(function () {\\n    return function () {\\n      cancelNextFrame();\\n    };\\n  }, []);\\n  return [startQueue, step];\\n};\\n\\nexports.default = _default;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_interopRequireWildcard\",\"_interopRequireDefault\",\"Object\",\"defineProperty\",\"value\",\"isActive\",\"step\",\"_interface\",\"STEP_ACTIVE\",\"STEP_ACTIVATED\",\"default\",\"DoStep\",\"SkipStep\",\"_slicedToArray2\",\"React\",\"_useIsomorphicLayoutEffect\",\"_useNextFrame3\",\"STEP_QUEUE\",\"STEP_PREPARE\",\"STEP_START\",\"_default\",\"status\",\"callback\",\"_React$useState\",\"useState\",\"STEP_NONE\",\"_React$useState2\",\"setStep\",\"_useNextFrame\",\"_useNextFrame2\",\"nextFrame\",\"cancelNextFrame\",\"index\",\"indexOf\",\"nextStep\",\"result\",\"info\",\"doNext\",\"isCanceled\",\"Promise\",\"resolve\",\"then\",\"useEffect\",\"startQueue\"]\n}\n"]